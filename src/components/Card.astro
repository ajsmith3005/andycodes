---
import '../styles/app.scss';

const { imageUrl } = Astro.props;
const { title } = Astro.props;
const tags = Astro.props.tags.split(', ');
const { href } = Astro.props;
---
<div class="card-wrapper">
	<div class="card-drip">
		<svg viewBox="0 0 183.94 78">
			<path d="M183.94,32.46v45.54H0v-44.99C0,22.76,8.3,14.46,18.55,14.46s18.55,8.3,18.55,18.55v.09c0,9.81,7.96,17.77,17.77,17.77s17.78-7.96,17.78-17.77v-.64C72.65,14.53,87.18,0,105.11,0s32.46,14.53,32.46,32.46c0,12.8,10.38,23.19,23.19,23.19s23.18-10.39,23.18-23.19Z" style="fill: #252525;"/>
		</svg>
		<div class="project-image-container">
			<img src={imageUrl} " alt="project image">
			<div class="under-project-image"></div>
		</div>
		<svg viewBox="0 0 183.94 78">
			<path d="M0,32.46v45.54s183.94,0,183.94,0v-44.99c0-10.25-8.3-18.55-18.55-18.55s-18.55,8.3-18.55,18.55v.09c0,9.81-7.96,17.77-17.77,17.77-9.82,0-17.78-7.96-17.78-17.77v-.64C111.29,14.53,96.76,0,78.83,0c-17.93,0-32.46,14.53-32.46,32.46,0,12.8-10.38,23.19-23.19,23.19S0,45.26,0,32.46Z" style="fill: #252525;"/>
  		</svg>
	</div>
	<div class="card">
		<div class="card-content">
			<h3>{title}</h3>
			<div class="tag-container">
				{tags.map((e) =>
					<div class="tag">
						<p>{e}</p>
					</div>
					)
				}
			</div>
			<slot />
		</div>
		<a href={href} class="is-style-hover-effect-1" target="_blank">SEE IT LIVE â†’</a>
	</div>
</div>

<style lang="scss">
	@use '../styles/global-abstracts' as *;

	.card-wrapper {
		display: flex;
		flex-direction: column;
		flex: 1 1 23em;
		max-width: 28em;
	}

	.card-drip {
		display: flex;
		width: 100%;
		align-items: flex-end;
		margin-bottom: -2px;
		

		.project-image-container {
			max-width: 25%;

			img {
				width: 100%;
				aspect-ratio: 1 / 1;
				border-radius: 100%;
				margin-bottom: -50%;
			}
	
			.under-project-image {
				width: 100%;
				aspect-ratio: 2 / 1;
				background-color: $color-contrast-dark;
			}
		}
		
	}

	.card {
		display: flex;
		flex: 1;
		flex-direction: column;
		text-align: left;
		justify-content: space-between;
		color: $color-contrast-light;
		background-color: $color-contrast-dark;
		padding: $spacing-05 $spacing-20 $spacing-20 $spacing-20;
		border-radius: 0 0 $radius-1 $radius-1;
		box-shadow: 0px 4px 4px rgba(0, 0, 0, .25);

		.card-content {
			display: flex;
			flex-direction: column;
			gap: $spacing-10;
		}

		h3 {
			margin: 0;
			margin-top: $spacing-05;
			text-transform: uppercase;
		}

		p {
			margin: 0;
			margin-bottom: 0 !important;
		}

		a {
			width: fit-content;
		}
	}

	.tag-container {
		display: flex;
		gap: $spacing-10;
	}

	.tag {
		padding: 0 0.75em;
		border-radius: .4em;
		color: $color-contrast-dark;
		background-color: $color-accent-2;
		font-weight: 600;
		text-transform: uppercase;

		p {
			margin: 0;
		}
	}

</style>

